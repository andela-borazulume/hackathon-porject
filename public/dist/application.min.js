"use strict";var ApplicationConfiguration=function(){var applicationModuleName="emerald",applicationModuleVendorDependencies=["ngResource","ngCookies","ngAnimate","ngTouch","ngSanitize","ui.router","ui.bootstrap","ui.utils"],registerModule=function(moduleName,dependencies){angular.module(moduleName,dependencies||[]),angular.module(applicationModuleName).requires.push(moduleName)};return{applicationModuleName:applicationModuleName,applicationModuleVendorDependencies:applicationModuleVendorDependencies,registerModule:registerModule}}();angular.module(ApplicationConfiguration.applicationModuleName,ApplicationConfiguration.applicationModuleVendorDependencies),angular.module(ApplicationConfiguration.applicationModuleName).config(["$locationProvider",function($locationProvider){$locationProvider.hashPrefix("!")}]),angular.element(document).ready(function(){"#_=_"===window.location.hash&&(window.location.hash="#!"),angular.bootstrap(document,[ApplicationConfiguration.applicationModuleName])}),ApplicationConfiguration.registerModule("core"),ApplicationConfiguration.registerModule("users"),angular.module("core").config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("home",{url:"/",templateUrl:"modules/core/views/home.client.view.html"}).state("quiz",{url:"/quiz",templateUrl:"modules/core/views/quiz.takequiz.view.html"}).state("category",{url:"/category",templateUrl:"modules/core/views/category.html"}).state("stageBeginner",{url:"/beginner",templateUrl:"modules/core/views/stageBeginner.html"})}]),angular.module("core").controller("HeaderController",["$scope","Authentication","Menus",function($scope,Authentication,Menus){$scope.authentication=Authentication,$scope.isCollapsed=!1,$scope.menu=Menus.getMenu("topbar"),$scope.toggleCollapsibleMenu=function(){$scope.isCollapsed=!$scope.isCollapsed},$scope.$on("$stateChangeSuccess",function(){$scope.isCollapsed=!1})}]),angular.module("core").controller("HomeController",["$scope","Authentication","$location","$rootScope",function($scope,Authentication,$location,$rootScope){$scope.authentication=Authentication,$scope.redirectToCategorypage=function(){$location.path("/category")},$rootScope.count=1,$rootScope.questionNum="question"+$rootScope.count,$scope.redirectToQuizpage=function(category){"photo"===category?($rootScope.currentCategory=$rootScope.Questions.Photography,$rootScope.questionCat="Photography"):"music"===category?($rootScope.currentCategory=$rootScope.Questions.Music,$rootScope.questionCat="Music"):"computer"===category?($rootScope.currentCategory=$rootScope.Questions.computerProgramming,$rootScope.questionCat="Computer Programming"):"carpentry"===category?($rootScope.currentCategory=$rootScope.Questions.Carpentry,$rootScope.questionCat="Carpentry"):"drawing"===category?($rootScope.currentCategory=$rootScope.Questions.Drawing,$rootScope.questionCat="Drawing"):"swimming"===category&&($rootScope.currentCategory=$rootScope.Questions.Swimming,$rootScope.questionCat="Swimming"),$rootScope.currentQuestion=$rootScope.currentCategory[$scope.questionNum],$location.path("/quiz")},$rootScope.Questions={Photography:{question1:{question:"The amount of light or darkness on a photograph is known as the:",option1:"Exposure",option2:"Shutter Speed",option3:"Contrast",option4:"Sharpness",correctAnswer:"option1",resource:"https://www.udemy.com/ditch-auto-start-shooting-in-manual"},question2:{question:"The amount of light passing through a lens is defined by the:",option1:"Shutter speed",option2:"Aperture",option3:"Film speed",option4:"Exposure",correctAnswer:"option2",resource:"http://en.wikipedia.org/wiki/Aperture"},question3:{question:"Perfect exposure is a result of the right mixture of:",option1:"Shutter speed + aperture + resolution",option2:"Film speed + aperture + exposure",option3:"Exposure + aperture + shutter speed",option4:"Aperture + shutter speed + film speed",correctAnswer:"option4",resource:"http://en.wikibooks.org/wiki/Basic_Photography/Exposure_controls"},question4:{question:"What is the unit of measurement for light in photography:",option1:"Apertures",option2:"Shutter Speed",option3:"Candelabras",option4:"Stops",correctAnswer:"option3",resource:"http://en.wikipedia.org/wiki/Foot-candle"},question5:{question:"Do you know:",text:"A light meter is a device used to measure the amount of light. In photography, a light meter is often used to determine the proper exposure for a photograph. Typically a light meter will include a computer, either digital or analog, which allows the photographer to determine which shutter speed and f-number should be selected for an optimum exposure, given a certain lighting situation and film speed.",resource:"http://en.wikipedia.org/wiki/Light_meter"},question6:{question:"What is shutter speed measured in?",option1:"Stops",option2:"F Numbers",option3:"Seconds",option4:"Exposures",correctAnswer:"option2",resource:"http://en.wikipedia.org/wiki/Shutter_speed"},question7:{question:"If a shutter speed is 1/100, what is twice as quick?",option1:"2/50",option2:"1/200",option3:"1/50",option4:"1/500",correctAnswer:"option3",resource:"http://en.wikipedia.org/wiki/Film_speed"},question8:{question:"Do you know:",text:"In photography, exposure value (EV) is a number that represents a combination of a camera shutter speed and f-number, such that all combinations that yield the same exposure have the same EV value. Exposure value is also used to indicate an interval on the photographic exposure scale, with a difference of 1 EV corresponding to a standard power of 2 exposure step, commonly referred to as a stop.",resource:"http://en.wikipedia.org/wiki/Exposure_value"}},computerProgramming:{question1:{question:"If you needed to execute some code repeatedly based on a certain condition, which of the following would you use?",option1:"Variable",option2:"Loop",option3:"Compiler",option4:"Conditional",correctAnswer:"option2",resource:"http://en.wikipedia.org/wiki/LOOP_(programming_language)"},question2:{question:"Do you know:",text:"Computer programming (often shortened to programming) is a process that leads from an original formulation of a computing problem to executable computer programs. Programming involves activities such as analysis, developing understanding, generating algorithms, verification of requirements of algorithms including their correctness and resources consumption, and implementation (commonly referred to as coding[1][2]) of algorithms in a target programming language.",resource:"http://en.wikipedia.org/wiki/Computer_programming"},question3:{question:"What is the software called that translates code into something meaningful the computer can understand?",option1:"Compiler",option2:"Transliterator",option3:"Converter",option4:"Translator",correctAnswer:"option1",resource:"http://en.wikipedia.org/wiki/Compiler"},question4:{question:"Do you know:",text:"Programming languages have been classified into several programming language generations. Historically, this classification was used to indicate increasing power of programming styles.",resource:"http://en.wikipedia.org/wiki/Programming_language_generations"},question5:{question:"Ask user for a number, ask user for another number, multiply the two numbers, print result..What do you call this set of instructions?",option1:"An algorithm",option2:"PHP",option3:"A class",option4:"A compiler",correctAnswer:"option1",resource:"http://en.wikipedia.org/wiki/Algorithm"},question6:{question:"Do you know:",text:"Application software (an application) is a set of one or more programs designed to permit the user to perform a group of coordinated functions, tasks, or activities. Application software cannot run on itself but is dependent on system software to execute. ",resource:"http://en.wikipedia.org/wiki/Application_software"}},Drawing:{question1:{question:"A drawing is started with",option1:"All simple shapes laid out in composition.",option2:"The colors being mixed and ready for application.",option3:"All the important details",option4:"The separation between lights and darks.",correctAnswer:"option2",resource:"http://en.wikipedia.org/wiki/Watercolor_painting"},question2:{question:"Do you know:",text:"An expressive image involves the arrangement and rendering of various scene elements according to the photographerâ€™s desire. Achieving the desired image involves image management (placement of the camera, choice of lens, and possibly the use of camera movements) and control of image values.",resource:"http://en.wikipedia.org/wiki/Zone_System"},question3:{question:"An artist squints his or her eyes while drawing to",option1:"Capture all the details",option2:"Clear objects from the depth of field",option3:"View all the colors of an object",option4:"option1",correctAnswer:"Capture all the details ",resource:"http://www.studiorousar.com/2011/07/01/the-value-of-squinting/"},question4:{question:"When doing a drawing with pencil, the artist shows the intensity of color by",option1:"Pre-mixing all colors on a pallet",option2:"Planning everything in tissue form",option3:"Using a series of gray values and textures",option4:"Using dingbats to represent the values",correctAnswer:"option4",resource:"http://en.wikipedia.org/wiki/Shading"},question5:{question:"Do you know:",text:"Drawing is a form of visual art that makes use of any number of drawing instruments to mark a two-dimensional medium. Instruments used include graphite pencils, pen and ink, inked brushes, wax color pencils, crayons, charcoal, chalk, pastels, various kinds of erasers, markers, styluses, various metals (such as silverpoint) and electronic drawing.",resource:"http://en.wikipedia.org/wiki/Drawing"}},Swimming:{question1:{question:"To get the most out of your swim, your fingers should be",option1:"Spread apart",option2:"Clamped Shut",option3:"Straight yet relaxed",option4:"Tucked behind your ears",correctAnswer:"option2",resource:"http://en.wikipedia.org/wiki/Dry_suit"},question2:{question:"Do you know:",text:"Swimming lessons is the process of learning to swim. In most countries there is a definition of a number of swimming levels that is reached in the process of the curriculum. The respective certificates of swimming tests are required for further training in aquatic abilities.",resource:"http://en.wikipedia.org/wiki/Swimming_lessons"},question3:{question:"In the freestyle stroke, as soon as you begin to catch and pull the water, you should",option1:"Put pressure in your fingertips and press the water back behind you",option2:"Put pressure in your fingertips and press the water up",option3:"Put pressure in your fingertips and press the water down",option4:"Put pressure in your fingertips and press the water sideways",correctAnswer:"option1",resource:"http://en.wikipedia.org/wiki/Freestyle_swimming"},question4:{question:"Do you know:",text:"Long-distance swimming is distinguished from ordinary swimming in that the distances involved are longer than are typically swum in pool competitions. When a given swim calls more on endurance than on outright speed, it is the more likely to be considered a long-distance swim. ",resource:"http://en.wikipedia.org/wiki/Long-distance_swimming"},question5:{question:"Which swimming stroke burns the most calories?",option1:"Front stroke and back stroke",option2:"Butterfly and breast stroke",option3:"Freestyle stroke",option4:"Back stroke",correctAnswer:"option4",resource:"http://en.wikipedia.org/wiki/Backstroke"}},Music:{question1:{question:"Medieval music was roughly between which years:",option1:"500 BC - 500 AD",option2:"500 BC - 1400 AD",option3:"1400 BC - 1500 AD",option4:"600 BC - 800 AD",correctAnswer:"option2",resource:"http://en.wikipedia.org/wiki/Medieval_music"},question2:{question:'Which term means "one single line of music: ',option1:"Polyphonic",option2:"Homophonic",option3:"Stereophonic",option4:"Monophonic",correctAnswer:"option4",resource:"http://en.wikipedia.org/wiki/Monophony"},question3:{question:"Another word for Gregorian Chant is: ",option1:"Singsong",option2:"Ostinato",option3:"Plainsong",option4:"Cantata",correctAnswer:"option3",resource:"http://en.wikipedia.org/wiki/Gregorian_chant"},question4:{question:"Do you know:",text:"Music notation or musical notation is any system used to visually represent aurally perceived music through the use of written symbols, including ancient or modern musical symbols. Types and methods of notation have varied between cultures and throughout history, and much information about ancient music notation is fragmentary.",resource:"http://en.wikipedia.org/wiki/Musical_notation"},question5:{question:"Do you know:",text:"Music can be divided into different genres in many different ways. The artistic nature of music means that these classifications are often subjective and controversial, and some genres may overlap. There are even varying academic definitions of the term genre itself. In his book Form in Tonal Music, Douglass M. Green distinguishes between genre and form. ",resource:"http://en.wikipedia.org/wiki/Music_genre"}},Carpentry:{question1:{question:"If fixing 12mm plasterboards to a timber stud the most suitable fixing to use is:",option1:"50mm Ovals",option2:"35mm Stainless steel screws",option3:"35mm Drywall Screws",option4:"75mm Roundheads",correctAnswer:"option3",resource:"http://wiki.diyfaq.org.uk/index.php?title=Plasterboarding"},question2:{question:"What must you do to a door, so it does not catch on the frame/lining when it closes shut: ",option1:"Plane the arris off",option2:"Plane a leading Edge on it",option3:"Fit the handles",option4:"Fit the Architrave",correctAnswer:"option2",resource:"http://wiki.diyfaq.org.uk/index.php?title=Hanging_a_door"},question3:{question:"What size Ply wood would be most suitable for a Pipe Boxing : ",option1:"6mm",option2:"18mm",option3:"22mm",option4:"25mm",correctAnswer:"option1",resource:"http://en.wikipedia.org/wiki/Wood_veneer"},question4:{question:"Do you know:",text:"Woodworking, veneer refers to thin slices of wood, usually thinner than 3 mm (1/8 inch), that typically are glued onto core panels (typically, wood, particle board or medium-density fiberboard) to produce flat panels such as doors, tops and panels for cabinets, parquet floors and parts of furniture.",resource:"http://en.wikipedia.org/wiki/Wood_veneer"},question5:{question:"Do you know:",text:"Carpentry is a skilled trade in which the primary work performed is the cutting, shaping and installation of building materials during the construction of buildings, ships, timber bridges, concrete formwork, etc. Carpenters traditionally worked with natural wood and did the rougher work such as framing, but today many other materials are also used[1] and sometimes the finer trades of cabinetmaking and furniture building are considered carpentry.",resource:"http://en.wikipedia.org/wiki/Carpentry"}}}}]),angular.module("core").controller("quizController",["$scope","$rootScope","$location",function($scope,$rootScope,$location){$scope.count=1,$scope.isDisabled=!1,$scope.noQuestion=!1,$scope.questionNum="question"+$scope.count,$scope.currentCat=$rootScope.currentCategory,console.log($scope.currentCat),$scope.category=$rootScope.questionCat,$scope.currentQuestion=$scope.currentCat[$scope.questionNum],$scope.currentAnswer=$scope.currentQuestion.correctAnswer,console.log($scope.currentQuestion),$scope.loadNextQuestion=function(){$scope.noQuestion=!1,$scope.count<5?($scope.count+=1,$scope.isDisabled=!1,$scope.answera="",$scope.answerb="",$scope.answerc="",$scope.answerd="",$scope.questionNum="question"+$scope.count,$scope.currentQuestion=$scope.currentCat[$scope.questionNum],$scope.currentAnswer=$scope.currentQuestion.correctAnswer):$location.path("/beginner"),void 0!==$scope.currentQuestion.text&&($scope.noQuestion=!0)},$scope.checkAnswer=function(arg,char){var correctOpt=char;$scope.isDisabled=!0,arg===$scope.currentAnswer?($scope[correctOpt]="correctAns",console.log($scope.ansStat),console.log("correct answer picked")):($scope[correctOpt]="wrongAns",$scope.rightAns=!1)}}]),angular.module("core").service("Menus",[function(){this.defaultRoles=["*"],this.menus={};var shouldRender=function(user){if(!user)return this.isPublic;if(~this.roles.indexOf("*"))return!0;for(var userRoleIndex in user.roles)for(var roleIndex in this.roles)if(this.roles[roleIndex]===user.roles[userRoleIndex])return!0;return!1};this.validateMenuExistance=function(menuId){if(menuId&&menuId.length){if(this.menus[menuId])return!0;throw new Error("Menu does not exists")}throw new Error("MenuId was not provided")},this.getMenu=function(menuId){return this.validateMenuExistance(menuId),this.menus[menuId]},this.addMenu=function(menuId,isPublic,roles){return this.menus[menuId]={isPublic:isPublic||!1,roles:roles||this.defaultRoles,items:[],shouldRender:shouldRender},this.menus[menuId]},this.removeMenu=function(menuId){this.validateMenuExistance(menuId),delete this.menus[menuId]},this.addMenuItem=function(menuId,menuItemTitle,menuItemURL,menuItemType,menuItemUIRoute,isPublic,roles,position){return this.validateMenuExistance(menuId),this.menus[menuId].items.push({title:menuItemTitle,link:menuItemURL,menuItemType:menuItemType||"item",menuItemClass:menuItemType,uiRoute:menuItemUIRoute||"/"+menuItemURL,isPublic:null===isPublic||"undefined"==typeof isPublic?this.menus[menuId].isPublic:isPublic,roles:null===roles||"undefined"==typeof roles?this.menus[menuId].roles:roles,position:position||0,items:[],shouldRender:shouldRender}),this.menus[menuId]},this.addSubMenuItem=function(menuId,rootMenuItemURL,menuItemTitle,menuItemURL,menuItemUIRoute,isPublic,roles,position){this.validateMenuExistance(menuId);for(var itemIndex in this.menus[menuId].items)this.menus[menuId].items[itemIndex].link===rootMenuItemURL&&this.menus[menuId].items[itemIndex].items.push({title:menuItemTitle,link:menuItemURL,uiRoute:menuItemUIRoute||"/"+menuItemURL,isPublic:null===isPublic||"undefined"==typeof isPublic?this.menus[menuId].items[itemIndex].isPublic:isPublic,roles:null===roles||"undefined"==typeof roles?this.menus[menuId].items[itemIndex].roles:roles,position:position||0,shouldRender:shouldRender});return this.menus[menuId]},this.removeMenuItem=function(menuId,menuItemURL){this.validateMenuExistance(menuId);for(var itemIndex in this.menus[menuId].items)this.menus[menuId].items[itemIndex].link===menuItemURL&&this.menus[menuId].items.splice(itemIndex,1);return this.menus[menuId]},this.removeSubMenuItem=function(menuId,submenuItemURL){this.validateMenuExistance(menuId);for(var itemIndex in this.menus[menuId].items)for(var subitemIndex in this.menus[menuId].items[itemIndex].items)this.menus[menuId].items[itemIndex].items[subitemIndex].link===submenuItemURL&&this.menus[menuId].items[itemIndex].items.splice(subitemIndex,1);return this.menus[menuId]},this.addMenu("topbar")}]),angular.module("users").config(["$httpProvider",function($httpProvider){$httpProvider.interceptors.push(["$q","$location","Authentication",function($q,$location,Authentication){return{responseError:function(rejection){switch(rejection.status){case 401:Authentication.user=null,$location.path("signin");break;case 403:}return $q.reject(rejection)}}}])}]),angular.module("users").config(["$stateProvider",function($stateProvider){$stateProvider.state("profile",{url:"/settings/profile",templateUrl:"modules/users/views/settings/edit-profile.client.view.html"}).state("password",{url:"/settings/password",templateUrl:"modules/users/views/settings/change-password.client.view.html"}).state("accounts",{url:"/settings/accounts",templateUrl:"modules/users/views/settings/social-accounts.client.view.html"}).state("signup",{url:"/signup",templateUrl:"modules/users/views/authentication/signup.client.view.html"}).state("signin",{url:"/signin",templateUrl:"modules/users/views/authentication/signin.client.view.html"}).state("forgot",{url:"/password/forgot",templateUrl:"modules/users/views/password/forgot-password.client.view.html"}).state("reset-invalid",{url:"/password/reset/invalid",templateUrl:"modules/users/views/password/reset-password-invalid.client.view.html"}).state("reset-success",{url:"/password/reset/success",templateUrl:"modules/users/views/password/reset-password-success.client.view.html"}).state("reset",{url:"/password/reset/:token",templateUrl:"modules/users/views/password/reset-password.client.view.html"})}]),angular.module("users").controller("AuthenticationController",["$scope","$http","$location","Authentication",function($scope,$http,$location,Authentication){$scope.authentication=Authentication,$scope.authentication.user&&$location.path("/"),$scope.signup=function(){$http.post("/auth/signup",$scope.credentials).success(function(response){$scope.authentication.user=response,$location.path("/")}).error(function(response){$scope.error=response.message})},$scope.signin=function(){$http.post("/auth/signin",$scope.credentials).success(function(response){$scope.authentication.user=response,$location.path("/")}).error(function(response){$scope.error=response.message})}}]),angular.module("users").controller("PasswordController",["$scope","$stateParams","$http","$location","Authentication",function($scope,$stateParams,$http,$location,Authentication){$scope.authentication=Authentication,$scope.authentication.user&&$location.path("/"),$scope.askForPasswordReset=function(){$scope.success=$scope.error=null,$http.post("/auth/forgot",$scope.credentials).success(function(response){$scope.credentials=null,$scope.success=response.message}).error(function(response){$scope.credentials=null,$scope.error=response.message})},$scope.resetUserPassword=function(){$scope.success=$scope.error=null,$http.post("/auth/reset/"+$stateParams.token,$scope.passwordDetails).success(function(response){$scope.passwordDetails=null,Authentication.user=response,$location.path("/password/reset/success")}).error(function(response){$scope.error=response.message})}}]),angular.module("users").controller("SettingsController",["$scope","$http","$location","Users","Authentication",function($scope,$http,$location,Users,Authentication){$scope.user=Authentication.user,$scope.user||$location.path("/"),$scope.hasConnectedAdditionalSocialAccounts=function(){for(var i in $scope.user.additionalProvidersData)return!0;return!1},$scope.isConnectedSocialAccount=function(provider){return $scope.user.provider===provider||$scope.user.additionalProvidersData&&$scope.user.additionalProvidersData[provider]},$scope.removeUserSocialAccount=function(provider){$scope.success=$scope.error=null,$http["delete"]("/users/accounts",{params:{provider:provider}}).success(function(response){$scope.success=!0,$scope.user=Authentication.user=response}).error(function(response){$scope.error=response.message})},$scope.updateUserProfile=function(isValid){if(isValid){$scope.success=$scope.error=null;var user=new Users($scope.user);user.$update(function(response){$scope.success=!0,Authentication.user=response},function(response){$scope.error=response.data.message})}else $scope.submitted=!0},$scope.changeUserPassword=function(){$scope.success=$scope.error=null,$http.post("/users/password",$scope.passwordDetails).success(function(){$scope.success=!0,$scope.passwordDetails=null}).error(function(response){$scope.error=response.message})}}]),angular.module("users").factory("Authentication",[function(){var _this=this;return _this._data={user:window.user},_this._data}]),angular.module("users").factory("Users",["$resource",function($resource){return $resource("users",{},{update:{method:"PUT"}})}]);